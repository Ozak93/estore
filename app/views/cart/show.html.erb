<% stylesheet_link_tag "cart.generic" %>
<div class="wrap cf">
  <h1 class="projTitle">Shopping Cart <span>items</span></h1>
  <div class="heading cf">
    <h1 style="color: black !important;">Items List</h1>
    <!--    <a href="#" class="continue">Continue Shopping</a>-->
    <%= link_to 'Continue Shopping', products_path, class: 'continue' %>
  </div>
  <div class="cart">
    <!--    <ul class="tableHead">
          <li class="prodHeader">Product</li>
          <li>Quantity</li>
          <li>Total</li>
           <li>Remove</li>
        </ul>-->
    <ul class="cartWrap">
      <% if @cart %>
        <% @cart.each_with_index do |item, index| %>
          <li class="items <%= index.odd? ? 'odd' : 'even' %>">

            <div class="infoWrap">
              <div class="cartSection">
                <img src="http://lorempixel.com/output/technics-q-c-300-300-4.jpg" alt="" class="itemImg"/>
                <%= image_tag(item[:product].image_as_thumbnail(128, 128), class: 'itemImg') %>
<!--                <p class="itemNumber"><%#= (index + 1) %></p>-->
                <h3><%= item[:product].name %></h3>

                <p class="flex-paragraph" >
                  <span >
                  <%= link_to image_tag('minus.png', style: 'width: 24px; height:24px;margin-top:auto;margin-bottom:auto;'), edit_quantity_path(item[:product], method: :sub), data: { "turbo-method": :patch }, class: 'minus' %>

                    <span class="qty">
                    <%= item[:amount] %>
                  </span>

                    <%= link_to image_tag('plus.png', style: 'width: 24px; height:24px;margin-top:auto;margin-bottom:auto;'), edit_quantity_path(item[:product], method: :add), data: { "turbo-method": :patch }, class: 'plus' %>
                  </span>
                  <span>x <%= item[:product].price %></span>
                </p>

                <p class="stockStatus"> In Stock</p>
              </div>


              <div class="prodTotal cartSection">
                <p>$<%= (item[:product].price.to_f * item[:amount].to_i) %></p>
              </div>
              <div class="cartSection removeWrap">
                <!--                <a href="#" class="remove">x</a>-->
                <%= link_to 'x', item_remove_path(item[:product]), data: { "turbo-method": :delete, turbo_confirm: "Are you sure?" }, class: "remove" %>
              </div>
            </div>
          </li>
        <% end %>
      <% end %>
      <!--      <li class="items even">-->

      <!--        <div class="infoWrap">-->
      <!--          <div class="cartSection">-->

      <!--            <img src="http://lorempixel.com/output/technics-q-c-300-300-4.jpg" alt="" class="itemImg"/>-->
      <!--            <p class="itemNumber">#QUE-007544-002</p>-->
      <!--            <h3>Item Name 1</h3>-->

      <!--            <p><input type="text" class="qty" placeholder="3"/> x $5.00</p>-->

      <!--            <p class="stockStatus"> In Stock</p>-->
      <!--          </div>-->


      <!--          <div class="prodTotal cartSection">-->
      <!--            <p>$15.00</p>-->
      <!--          </div>-->
      <!--          <div class="cartSection removeWrap">-->
      <!--            <a href="#" class="remove">x</a>-->
      <!--          </div>-->
      <!--        </div>-->
      <!--      </li>-->

      <!--      <li class="items odd">-->
      <!--        <div class="infoWrap">-->
      <!--          <div class="cartSection">-->

      <!--            <img src="http://lorempixel.com/output/technics-q-c-300-300-4.jpg" alt="" class="itemImg"/>-->
      <!--            <p class="itemNumber">#QUE-007544-002</p>-->
      <!--            <h3>Item Name 1</h3>-->

      <!--            <p><input type="text" class="qty" placeholder="3"/> x $5.00</p>-->

      <!--            <p class="stockStatus out"> Out of Stock</p>-->
      <!--          </div>-->


      <!--          <div class="prodTotal cartSection">-->
      <!--            <p>$15.00</p>-->
      <!--          </div>-->
      <!--          <div class="cartSection removeWrap">-->
      <!--            <a href="#" class="remove">x</a>-->
      <!--          </div>-->
      <!--        </div>-->
      <!--      </li>-->
      <!--      <li class="items even">-->
      <!--        <div class="infoWrap">-->
      <!--          <div class="cartSection info">-->

      <!--            <img src="http://lorempixel.com/output/technics-q-c-300-300-4.jpg" alt="" class="itemImg"/>-->
      <!--            <p class="itemNumber">#QUE-007544-002</p>-->
      <!--            <h3>Item Name 1</h3>-->

      <!--            <p><input type="text" class="qty" placeholder="3"/> x $5.00</p>-->

      <!--            <p class="stockStatus"> In Stock</p>-->

      <!--          </div>-->


      <!--          <div class="prodTotal cartSection">-->
      <!--            <p>$15.00</p>-->
      <!--          </div>-->

      <!--          <div class="cartSection removeWrap">-->
      <!--            <a href="#" class="remove">x</a>-->
      <!--          </div>-->
      <!--        </div>-->
      <!--        <div class="special">-->
      <!--          <div class="specialContent">Free gift with purchase!, gift wrap, etc!!</div>-->
      <!--        </div>-->
      <!--      </li>-->


      <!--<li class="items even">Item 2</li>-->

    </ul>
  </div>

<!--  <div class="promoCode">-->
<!--    <label for="promo">Have A Promo Code?</label><input type="text" name="promo" placholder="Enter Code"/>-->
<!--    <a href="#" class="btn"></a></div>-->

  <div class="subtotal cf">
    <ul>
<!--      <li class="totalRow"><span class="label">Subtotal</span><span class="value">$35.00</span></li>-->

<!--      <li class="totalRow"><span class="label">Shipping</span><span class="value">$5.00</span></li>-->

<!--      <li class="totalRow"><span class="label">Tax</span><span class="value">$4.00</span></li>-->

      <li class="totalRow final"><span class="label">Total</span><span class="value">$<%= @total_price  %></span></li>
      <li class="totalRow">
<!--        <a href="#" class="btn continue">Checkout</a>-->
        <%= link_to 'Checkout', checkout_path, data: { "turbo-method": :put }, class: 'btn continue' %>
      </li>
    </ul>
  </div>
</div>








<%# if @cart %>
<%# @cart.each do |item| %>
<%#= item&.name %>
<!--    <br/>-->
<%#= item&.price %>
<%# end %>
<%# end %>